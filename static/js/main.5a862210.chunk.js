(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){e.exports=a.p+"static/media/jotaflix.c1edbf18.png"},43:function(e,t,a){e.exports=a(80)},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(34),c=a.n(i),r=(a(48),a(2)),s=a(3),l=a(6),m=a(4),v=a(5),u=a(82),p=a(39),_=a(10),f=a(12),d=a(36),h=a(14),b={movies:[]},g=Object(f.combineReducers)({favs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAV":return Object(h.a)({},e,{movies:t.payload});case"RANK_FAV":return e.movies[t.payload.indexMovie]=Object(h.a)({},e.movies[t.payload.indexMovie],{user_rank:t.payload.user_rank}),Object(h.a)({},e);case"REMOVE_FAV":return Object(h.a)({},e,{movies:t.payload});default:return e}}}),E=a(37),y=[d.a],O=Object(f.createStore)(g,{},Object(E.composeWithDevTools)(f.applyMiddleware.apply(void 0,y))),k=(a(53),a(83)),N=(a(54),a(38)),j=a.n(N),S=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark navbar__jotaflix"},o.a.createElement(k.a,{className:"navbar-brand",to:"/"},o.a.createElement("img",{className:"img__jotaflix",src:j.a,alt:"Jotaflix"})),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},o.a.createElement("div",{className:"navbar-nav"},o.a.createElement(k.a,{to:"/discover",className:"nav-item nav-link"},"Discover"),o.a.createElement(k.a,{to:"/upcoming",className:"nav-item nav-link"},"Upcoming"),o.a.createElement(k.a,{to:"/favs",className:"nav-item nav-link"},"Favourites"))))},C=a(17),w=a(81),A=(a(58),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(C.a)({},t.target.name,t.target.value))},e.keyPress=function(t){13===t.keyCode&&(console.log("value",t.target.value),e.props.history.push({pathname:"/search",state:{searchText:t.target.value}}),e.setState({text:""}))},e.state={text:""},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"search"},o.a.createElement("div",{className:"submedia"},o.a.createElement("div",{className:"search_form"},o.a.createElement("input",{className:"form-control form-control-lg searchbar",placeholder:"Search for a movie, tv show, person...",name:"text",value:this.state.text,onChange:this.onChange,onKeyDown:this.keyPress}))))}}]),t}(n.Component)),x=Object(w.a)(A),F=a(13),M=a.n(F),R=function(e,t){return function(a){var n=JSON.parse(localStorage.getItem("favs")),o=Object(h.a)({},e,{collection:t});if(n)if(n.length){n.filter(function(a){return a.id===e.id&&a.collection===t}).length>0?a({type:"SET_FAV",payload:n}):(n.unshift(o),localStorage.setItem("favs",JSON.stringify(n)),a({type:"SET_FAV",payload:n}))}else{var i=n.id!==e.id||n.collection!==t?[o,n]:o;localStorage.setItem("favs",JSON.stringify(i)),a({type:"SET_FAV",payload:i})}else localStorage.setItem("favs",JSON.stringify(o)),a({type:"SET_FAV",payload:o})}},D=function(e,t){return function(a){var n=Object(h.a)({},e,{user_rank:t}),o=JSON.parse(localStorage.getItem("favs"));if(Array.isArray(o)){var i=o.findIndex(function(t){return t.id===e.id});o[i]=n,localStorage.setItem("favs",JSON.stringify(o)),a({type:"RANK_FAV",payload:{indexMovie:i,user_rank:t}})}else{localStorage.setItem("favs",JSON.stringify(n)),a({type:"RANK_FAV",payload:{indexMovie:0,user_rank:t}})}}},I=(a(32),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).seeDetail=function(){e.props.history.push("/detail/".concat(e.props.movie.id))},e.setFavourite=function(){console.log("favved"),e.props.setFav(e.props.movie)},e.state={markAsFav:"",overview:""},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.movie;return o.a.createElement("div",{className:"container__movieitem"},o.a.createElement("div",{className:"container__movieitem__left"},o.a.createElement("img",{className:"container__movieitem__left__img",onClick:this.seeDetail,src:"https://image.tmdb.org/t/p/w370_and_h556_bestv2".concat(e.poster_path),alt:e.title})),o.a.createElement("div",{className:"container__movieitem__info"},o.a.createElement("div",{className:"container__movieitem__info__wrapper"},o.a.createElement("div",{className:"container__movieitem__info__wrapper_title"},o.a.createElement("h3",null,e.title),o.a.createElement("div",{className:"container__movieitem__info__wrapper_rank_date"},o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"Release")," ",e.release_date)," ",o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"Ranking")," ",e.vote_average)))),o.a.createElement("div",{className:"container__movieitem__info__text"},o.a.createElement("div",{className:"container__movieitem__info__overview"},e.overview),o.a.createElement("div",{className:"container__movieitem__info__moreinfo",onClick:this.seeDetail},"More info"))))}}]),t}(n.Component)),V=Object(_.b)(function(e){return{favs:e.favs}},{setFav:R})(Object(w.a)(I)),J=(a(33),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.movies.map(function(e){return o.a.createElement(V,{key:e.id,movie:e})});return o.a.createElement("div",{className:"moviefeed"},e)}}]),t}(n.Component)),T="6bcb74a677eb615b1f051767aef581ed",P=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={movies:[],errors:{}},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(T,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&year=2018")).then(function(t){return e.setState({movies:t.data.results})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"moviefeed"},o.a.createElement(J,{movies:this.state.movies}))}}]),t}(n.Component),K=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={movies:[],errors:{}},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat(T,"&language=en-US&page=1")).then(function(t){return e.setState({movies:t.data.results})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement(J,{movies:this.state.movies})}}]),t}(n.Component),U=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={movies:[],errors:{}},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"updateSearch",value:function(e){var t=this;e&&M.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(T,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then(function(e){return t.setState({movies:e.data.results})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.updateSearch(this.props.location.state.searchText)}},{key:"componentWillReceiveProps",value:function(e){this.updateSearch(e.location.state.searchText)}},{key:"render",value:function(){return o.a.createElement("div",{className:"moviefeed"},o.a.createElement(J,{movies:this.state.movies}))}}]),t}(n.Component),W=Object(w.a)(U),B=(a(78),a(79),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState({selectedOption:t.target.value})},e.onAccept=function(){""!==e.state.selectedOption&&e.props.onAcceptClick(e.state.selectedOption)},e.keyPress=function(t){13===t.keyCode&&e.onAccept()},e.onCancel=function(){e.props.onCancelClick()},e.state={showSelectCollection:!1,selectedOption:""},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.showSelectCollection&&this.setState({showSelectCollection:!0})}},{key:"render",value:function(){var e=o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{onChange:this.onChange,type:"text",className:"form-control searchbar inputcollection",placeholder:"Add to collection...",onKeyDown:this.keyPress}),o.a.createElement("div",{className:"buttonscollection"},o.a.createElement("button",{type:"button",onClick:this.onAccept,className:"btn btn__jotaflix"},"Accept"),o.a.createElement("button",{type:"button",onClick:this.onCancel,className:"btn btn__jotaflix"},"Cancel")));return o.a.createElement("div",{className:"selectCollection"},e)}}]),t}(n.Component)),L=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).onAcceptClick=function(t){e.props.setFav(e.state.movie,t),e.setState({showSelectCollection:!1})},e.onCancelClick=function(){e.setState({showSelectCollection:!1})},e.onFavClick=function(){e.setState({showSelectCollection:!0})},e.state={movie:{},showSelectCollection:!1,isLoading:!0},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;M.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(T,"&language=en-US")).then(function(t){return e.setState({movie:t.data,isLoading:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.showSelectCollection,n={backgroundImage:"url(https://image.tmdb.org/t/p/w1000_and_h563_face".concat(t.backdrop_path,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",height:"30vh",width:"100%",opacity:"0.8"};return o.a.createElement("div",{className:"detail__container"},!this.state.isLoading&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container__background",style:n}),o.a.createElement("div",{className:"detail__container__movieitem"},this.state.isLoading&&o.a.createElement("i",{className:"fas fa-circle-notch fa-spin"}),o.a.createElement("div",{className:"detail__container__movieitem__left"},o.a.createElement("img",{className:"detail__container__movieitem__left__img",onClick:this.seeDetail,src:"https://image.tmdb.org/t/p/w370_and_h556_bestv2".concat(t.poster_path),alt:t.title})),o.a.createElement("div",{className:"detail__container__movieitem__info"},o.a.createElement("div",{className:"detail__container__movieitem__info__wrapper"},o.a.createElement("div",{className:"detail__container__movieitem__info__wrapper_title"},o.a.createElement("h1",null,o.a.createElement("b",null,t.title)),o.a.createElement("div",{className:"detail__container__movieitem__info__wrapper_rank_date"},o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"Release")," ",t.release_date)," ",o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"Ranking")," ",t.vote_average),o.a.createElement("div",{onClick:this.onFavClick},o.a.createElement("i",{className:"fas fa-heart fa-lg favouriteButton"}))))),o.a.createElement("div",{className:"detail__container__movieitem__info__text"},o.a.createElement("div",{className:"detail__container__movieitem__info__overview"},o.a.createElement("h4",null,o.a.createElement("span",{className:"sub_header"},"Overview")),t.overview)),a&&o.a.createElement(B,{onAcceptClick:this.onAcceptClick,onCancelClick:this.onCancelClick})))))}}]),t}(n.Component),q=Object(_.b)(function(e){return{favs:e.favs}},{setFav:R,evaluateMovie:D})(L),z=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).seeDetail=function(){e.props.history.push("/detail/".concat(e.props.movie.id))},e.rateMovie=function(t){e.props.evaluateMovie(e.props.movie,t)},e.keyPress=function(t){if(13===t.keyCode){var a=parseInt(t.target.value);Number.isNaN(a)||e.rateMovie(a)}},e.removeFav=function(){e.props.removeFav(e.props.movie)},e.state={markAsFav:"",overview:""},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.movie;return o.a.createElement("div",{className:"container__movieitem"},o.a.createElement("div",{className:"container__movieitem__left"},o.a.createElement("img",{className:"container__movieitem__left__img",onClick:this.seeDetail,src:"https://image.tmdb.org/t/p/w370_and_h556_bestv2".concat(e.poster_path),alt:e.title})),o.a.createElement("div",{className:"container__movieitem__info"},o.a.createElement("div",{className:"container__movieitem__info__wrapper"},o.a.createElement("div",{className:"container__movieitem__info__wrapper_title"},o.a.createElement("h3",null,e.title),o.a.createElement("div",{className:"container__movieitem__info__wrapper_rank_date"},o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"Release")," ",e.release_date)," ",o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"Ranking")," ",e.vote_average),e.user_rank&&o.a.createElement("p",null,o.a.createElement("span",{className:"sub_header"},"User Rate")," ",e.user_rank),o.a.createElement("div",{onClick:this.removeFav},o.a.createElement("i",{className:"fas fa-times fa-lg favouriteButton"}))))),o.a.createElement("div",{className:"container__movieitem__info__text"},o.a.createElement("div",{className:"container__movieitem__info__overview"},e.overview),o.a.createElement("div",{className:"container_info_inputrank"},o.a.createElement("input",{onChange:this.onChange,type:"text",className:"form-control searchbar inputrank",placeholder:"Rate movie",onKeyDown:this.keyPress}),o.a.createElement("div",{className:"container__movieitem__info__moreinfo",onClick:this.seeDetail},"More info")))))}}]),t}(n.Component),$=Object(_.b)(function(e){return{favs:e.favs}},{setFav:R,evaluateMovie:D,removeFav:function(e){return function(t){var a=JSON.parse(localStorage.getItem("favs"));if(Array.isArray(a)){var n=a.findIndex(function(t){return t.id===e.id});a.splice(n,1),localStorage.setItem("favs",JSON.stringify(a)),t({type:"REMOVE_FAV",payload:a})}else localStorage.removeItem("favs"),t({type:"REMOVE_FAV",payload:{}})}}})(Object(w.a)(z)),G=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.collection,n=t.map(function(e){return o.a.createElement($,{key:e.id,movie:e})});return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement("h1",{className:"collection__title"},o.a.createElement("b",null,a)),o.a.createElement("div",{className:"moviefeedfavs"},n))}}]),t}(n.Component),H=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={movies:[],collections:[],errors:{}},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getFavs()}},{key:"componentWillReceiveProps",value:function(e){if(e.favs.movies&&e.favs.movies.length>0){var t=[];e.favs.movies.forEach(function(e){t.includes(e.collection)||t.push(e.collection)}),this.setState({movies:e.favs.movies,collections:t})}else e.favs.movies&&this.setState({movies:e.favs.movies,collections:[]})}},{key:"render",value:function(){var e=this,t=this.state.collections.map(function(t){return o.a.createElement(G,{key:t,collection:t,movies:e.state.movies.filter(function(e){return e.collection===t})})});return o.a.createElement("div",{className:"moviefeed"},t)}}]),t}(n.Component),Q=Object(_.b)(function(e){return{favs:e.favs}},{getFavs:function(){return function(e){var t=JSON.parse(localStorage.getItem("favs"));t&&(t.length?e({type:"SET_FAV",payload:t}):e({type:"SET_FAV",payload:[t]}))}}})(H),X=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(_.a,{store:O},o.a.createElement(u.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(S,null),o.a.createElement(x,null),o.a.createElement(p.a,{exact:!0,path:"/discover",component:P}),o.a.createElement(p.a,{exact:!0,path:"/upcoming",component:K}),o.a.createElement(p.a,{exact:!0,path:"/search",component:W}),o.a.createElement(p.a,{exact:!0,path:"/detail/:id",component:q}),o.a.createElement(p.a,{exact:!0,path:"/favs",component:Q}),o.a.createElement(p.a,{exact:!0,path:"/select",component:B}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.5a862210.chunk.js.map